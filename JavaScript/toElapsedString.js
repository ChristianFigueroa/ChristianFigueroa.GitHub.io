Date.prototype.toElapsedString=function(shortened){var s=shortened,e=[[' seconds',' minutes',' hours',' days',' weeks',' years'],'smhdwy'][+!!s],r=Math.floor,f=function(a){return s||a.substr(0,2)!='1 '?a:a.substr(0,a.length-1)},a=new Date().getTime(),b=this.getTime(),c=Math.abs(a-b),d=f(c<6e4?r(c/1e3)+e[0]:c<36e5?r(c/6e4)+e[1]:c<864e5?r(c/36e5)+e[2]:c<6048e5?r(c/864e5)+e[3]:c<31536e6?r(c/6048e5)+e[4]:r(c/31536e6)+e[5]);return a-b?a-b<0?d+' from now':d+' ago':'now'}